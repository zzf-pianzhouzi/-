{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"@/router\";\nimport Layout from \"@/layout/Layout\"; // 注意：这个文件是设置动态路由的\n// permissions是一个资源的数组\n\nexport function activeRouter() {\n  const userStr = sessionStorage.getItem(\"user\");\n\n  if (userStr) {\n    const user = JSON.parse(userStr);\n    let root = {\n      path: '/',\n      name: 'Layout',\n      component: Layout,\n      redirect: \"/home\",\n      children: []\n    };\n    user.permissions.forEach(p => {\n      let obj = {\n        path: p.path,\n        name: p.name,\n        component: () => import(\"@/views/\" + p.name)\n      };\n      root.children.push(obj);\n    });\n\n    if (router) {\n      router.addRoute(root);\n    }\n  }\n}","map":{"version":3,"names":["router","Layout","activeRouter","userStr","sessionStorage","getItem","user","JSON","parse","root","path","name","component","redirect","children","permissions","forEach","p","obj","push","addRoute"],"sources":["D:/Desktop/springboot+vue/springboot-vue-demo/src/utils/permission.js"],"sourcesContent":["import router from \"@/router\";\nimport Layout from \"@/layout/Layout\";\n\n// 注意：这个文件是设置动态路由的\n// permissions是一个资源的数组\nexport function activeRouter() {\n    const userStr = sessionStorage.getItem(\"user\")\n    if (userStr) {\n        const user = JSON.parse(userStr)\n        let root = {\n            path: '/',\n            name: 'Layout',\n            component: Layout,\n            redirect: \"/home\",\n            children: []\n        }\n        user.permissions.forEach(p => {\n            let obj = {\n                path: p.path,\n                name: p.name,\n                component: () => import(\"@/views/\" + p.name)\n            };\n            root.children.push(obj)\n        })\n        if (router) {\n            router.addRoute(root)\n        }\n    }\n}\n\n\n"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,iBAAnB,C,CAEA;AACA;;AACA,OAAO,SAASC,YAAT,GAAwB;EAC3B,MAAMC,OAAO,GAAGC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAhB;;EACA,IAAIF,OAAJ,EAAa;IACT,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,OAAX,CAAb;IACA,IAAIM,IAAI,GAAG;MACPC,IAAI,EAAE,GADC;MAEPC,IAAI,EAAE,QAFC;MAGPC,SAAS,EAAEX,MAHJ;MAIPY,QAAQ,EAAE,OAJH;MAKPC,QAAQ,EAAE;IALH,CAAX;IAOAR,IAAI,CAACS,WAAL,CAAiBC,OAAjB,CAAyBC,CAAC,IAAI;MAC1B,IAAIC,GAAG,GAAG;QACNR,IAAI,EAAEO,CAAC,CAACP,IADF;QAENC,IAAI,EAAEM,CAAC,CAACN,IAFF;QAGNC,SAAS,EAAE,MAAM,OAAO,aAAaK,CAAC,CAACN,IAAtB;MAHX,CAAV;MAKAF,IAAI,CAACK,QAAL,CAAcK,IAAd,CAAmBD,GAAnB;IACH,CAPD;;IAQA,IAAIlB,MAAJ,EAAY;MACRA,MAAM,CAACoB,QAAP,CAAgBX,IAAhB;IACH;EACJ;AACJ"},"metadata":{},"sourceType":"module"}